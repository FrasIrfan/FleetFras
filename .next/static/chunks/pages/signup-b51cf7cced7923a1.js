(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[252],{2522:(e,s,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return r(8303)}])},8303:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>x});var a=r(7876),t=r(4232),o=r(1724),l=r(4234),n=r(2009),i=r(9099),d=r(8230),c=r.n(d),m=r(7328),u=r.n(m);function h(){let[e,s]=(0,t.useState)({email:"",password:"",confirmPassword:"",role:"purchaser"}),[r,d]=(0,t.useState)(""),[m,h]=(0,t.useState)(!1),x=(0,i.useRouter)(),p=e=>{let{name:r,value:a}=e.target;s(e=>({...e,[r]:a}))},f=async s=>{if(s.preventDefault(),d(""),e.password!==e.confirmPassword)return void d("Passwords do not match");if(e.password.length<6)return void d("Password must be at least 6 characters");h(!0);try{let s=(await (0,o.eJ)(l.j2,e.email,e.password)).user;await (0,n.BN)((0,n.H9)(l.db,"users",s.uid),{email:s.email,role:e.role,createdAt:new Date().toISOString()}),x.push("/login")}catch(e){d(e.message||"Failed to create account. Please try again.")}finally{h(!1)}},g=async()=>{try{h(!0),await (0,l.G6)(),x.push("/dashboard")}catch(e){d(e.message),h(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u(),{children:(0,a.jsx)("title",{children:"Sign Up - Car Management System"})}),(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"auth-form-container max-w-md w-full bg-white rounded-2xl shadow-xl overflow-hidden auth-card",children:[(0,a.jsxs)("div",{className:"auth-gradient-bg px-6 py-8",children:[(0,a.jsx)("h2",{className:"text-center text-3xl font-extrabold text-white",children:"Create your account"}),(0,a.jsx)("p",{className:"mt-2 text-center text-sm text-indigo-100",children:"Join our platform today"})]}),(0,a.jsxs)("div",{className:"px-8 py-8",children:[r&&(0,a.jsx)("div",{className:"auth-form-error mb-4 bg-red-50 border-l-4 border-red-500 p-4",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("svg",{className:"h-5 w-5 text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,a.jsx)("div",{className:"ml-3",children:(0,a.jsx)("p",{className:"text-sm text-red-700",children:r})})]})}),(0,a.jsxs)("form",{className:"space-y-6",onSubmit:f,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"auth-form-input auth-input-focus appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"you@example.com",value:e.email,onChange:p})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"auth-form-input auth-input-focus appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"••••••••",value:e.password,onChange:p})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"auth-form-input auth-input-focus appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"••••••••",value:e.confirmPassword,onChange:p})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Account Type"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsxs)("select",{id:"role",name:"role",className:"auth-select appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:e.role,onChange:p,children:[(0,a.jsx)("option",{value:"purchaser",children:"Car Purchaser"}),(0,a.jsx)("option",{value:"seller",children:"Car Seller"})]})})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",disabled:m,className:"auth-form-button w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:m?(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsxs)("svg",{className:"auth-loading-spinner -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):"Create account"})})]}),(0,a.jsx)("div",{className:"auth-form-divider",children:(0,a.jsx)("span",{className:"px-2 bg-white text-gray-500 text-sm",children:"Or continue with"})}),(0,a.jsx)("div",{className:"mt-6 grid grid-cols-1 gap-3",children:(0,a.jsxs)("button",{onClick:g,disabled:m,className:"auth-form-button w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,a.jsx)("svg",{className:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"})}),(0,a.jsx)("span",{className:"ml-2",children:"Sign up with Google"})]})}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",(0,a.jsx)(c(),{href:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Sign in"})]})})]})]})})]})}function x(){return(0,a.jsx)(h,{})}}},e=>{var s=s=>e(e.s=s);e.O(0,[695,636,593,792],()=>s(2522)),_N_E=e.O()}]);